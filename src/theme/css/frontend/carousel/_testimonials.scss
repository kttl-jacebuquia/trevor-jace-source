.carousel-testimonials {
  @apply overflow-x-hidden;
  @apply pt-px56 pb-px75;

  @screen md {
    @apply py-px50;
  }

  @screen lg {
    @apply py-px80;
  }

  // Text color variants
  @each $color-name in map-keys($theme-colors) {
    &.#{unquote("text-" + $color-name)} {
      .swiper-pagination-bullet {
        background-color: tw-color($color-name);
      }
    }
  }

  // Disables interaction while transitioning
  // This allows JS logic to work properly which relies
  // on slide transition, due to a11y considerations
  &--transitioning {
    pointer-events: none;
  }

  &-inner {
    @apply tw-grid container mx-auto;

    @screen md {
      @apply items-center;
    }
  }

  &-img-wrap {
    @apply col-span-full;

    @screen md {
      @apply col-span-3;
    }

    @screen lg {
      @apply col-span-5;
    }

    .swiper-container {
      @apply h-full absolute top-0 left-0 w-full h-full object-cover;
    }
  }

  &-txt-wrap {
    @apply col-span-full mt-px50;

    @screen md {
      @apply col-span-5 mt-0;
    }

    @screen lg {
      @apply col-span-6 col-start-7;
    }
  }

  &-quotes {
    @apply flex flex-row;
    @apply mb-px24;

    @screen md {
      @apply mb-px30;
    }

    @screen lg {
      @apply mb-px20;
    }
  }

  .trevor-ti-quote-open,
  .trevor-ti-quote-close {
    @apply text-current h-px13 text-px13;

    @screen md {
      @apply h-px16 text-px16;
    }

    @screen lg {
      @apply h-px26 text-px26;
    }
  }

  .trevor-ti-quote-close {
    @apply mt-px4 ml-px6;

    @screen lg {
      @apply ml-px10;
    }
  }

  blockquote {
    @apply overflow-hidden overflow-ellipsis inline-flex;
    @apply font-semibold text-px28 leading-px40 tracking-em005;

    @screen md {
      @apply text-px20 leading-px26;
    }

    @screen lg {
      @apply text-px26 leading-px36;
    }

    @screen lg2 {
      @apply text-px32 leading-px40;
    }
  }

  figcaption {
    @apply text-px18 leading-px26 mt-px24;

    @screen md {
      @apply text-px14 leading-px22 tracking-px05 mt-px20;
    }

    @screen lg {
      @apply text-px22 leading-px26;
    }
  }

  .swiper {
    &-wrapper {
      @apply h-auto;
    }

    &-pagination {
      @apply flex z-2 mt-px24;

      @screen md {
        @apply mt-px20;
      }

      @screen lg {
        @apply mt-px30;
      }

      &-bullet {
        @apply bg-opacity-20 opacity-100;
        @apply z-2;

        &-active {
          @apply bg-opacity-100;
        }
      }
    }
  }

  .swiper-slide {
    @apply h-auto;
  }

  .panes-container {
    &.is-mobile-breakpoint {
      @apply hidden;
    }
  }

  &.text-left {
    .carousel-testimonials-quotes {
      @apply justify-start;
    }

    .carousel-testimonials-txt-wrap .swiper-slide {
      @apply justify-start;

      figure {
        @screen md {
          @apply items-start justify-start;
        }
      }
    }
  }

  &.text-center {
    .carousel-testimonials-quotes {
      @apply justify-center;
    }

    .carousel-testimonials-txt-wrap .swiper-slide {
      @apply justify-center;

      figure {
        @screen md {
          @apply items-center justify-center;
        }
      }
    }
  }

  &.text-right {
    .carousel-testimonials-quotes {
      @apply justify-end;
    }

    .carousel-testimonials-txt-wrap .swiper-slide {
      @apply justify-end;

      figure {
        @screen md {
          @apply items-end justify-end;
        }
      }
    }
  }

  &.image-right {
    @screen md {
      @apply pb-px50;
    }

    @screen lg {
      @apply py-px80;
    }

    .carousel-testimonials-img-wrap {
      @screen md {
        @apply col-start-6;
      }

      @screen lg {
        @apply col-start-8;
      }
    }

    .carousel-testimonials-txt-wrap {
      @apply mt-0 mb-px65;

      @screen md {
        @apply col-start-1 mb-px20;
      }
    }
  }

  &.contained {
    .carousel-testimonials-img-wrap {
      @apply rounded-px10 overflow-hidden;
      will-change: transform;

      .swiper-slide {
        @apply bg-white;
      }
    }
  }

  // Cover-Image variant
  &.cover {
    .carousel-testimonials-inner {
      @screen lg {
        @apply relative;
      }
    }

    .carousel-testimonials-img-wrap {
      @screen md {
        @apply col-span-6;
      }

      @screen lg {
        @apply col-span-full;
      }

      &::before {
        @apply hidden;
      }

      .swiper-container {
        @apply relative h-auto -ml-px28;
        width: calc(100% + 56px);

        @screen md {
          @apply ml-0 -mr-px50;
          width: calc(100% + 50px);
        }

        @screen lg {
          @apply mr-0 w-full;
        }

        .swiper-slide {
          @apply flex justify-center;

          img {
            @apply w-full h-px302;

            @screen md {
              @apply h-px412;
            }

            @screen lg {
              @apply h-px436;
            }
          }
        }
      }
    }

    .carousel-testimonials-txt-wrap {
      @screen md {
        @apply col-span-6 col-start-2 -mx-px28;
      }

      @screen lg {
        @apply relative col-span-8 col-start-1 z-2 mx-0;
      }
    }

    blockquote {
      @screen md {
        @apply text-px30 leading-px40;
      }

      @screen lg {
        @apply text-px34 leading-px42 tracking-em_005;
      }
    }

    figcaption {
      @screen md {
        @apply text-px18 leading-px28 tracking-normal mt-px22;
      }

      @screen lg {
        @apply text-px22 leading-px32 mt-px18;
      }
    }

    .trevor-ti-quote-open,
    .trevor-ti-quote-close {
      @screen md {
        @apply h-px24 text-px24;
      }

      @screen lg {
        @apply h-px26 text-px26;
      }
    }

    .trevor-ti-quote-close {
      @screen md {
        @apply mt-px6;
      }

      @screen lg {
        @apply ml-px10;
      }
    }

    &.image-right {
      @apply pb-0;

      @screen md {
        @apply pt-px100;
      }

      @screen lg {
        @apply pt-px115;
      }

      @screen lg2 {
        @apply py-0;
      }

      .carousel-testimonials-txt-wrap {
        @screen lg {
          @apply col-span-6;
        }
      }

      .carousel-testimonials-img-wrap {
        @screen md {
          @apply col-start-3;
        }

        @screen lg {
          @apply col-start-7 col-span-6 -ml-px28;
          @include bleed-r(lg);
        }

        @screen lg2 {
          @include bleed-r(lg2);
        }

        @screen xl {
          @include bleed-r(xl);
        }

        // Max breakpoint for bleed is 1920px.
        @media only screen and (min-width: 1920px) {
          margin-right: calc((#{rem-calc(1920px)} - theme('container.screens.xl') + (theme('container.padding.xl') * 2)) / -2 );
        }

        .swiper-container {
          @screen md {
            @apply ml-0 -mr-px50;
          }

          @screen lg {
            @apply mr-0;
          }
        }
      }
    }

    &.image-left {
      @apply pt-0 pb-px80;

      @screen lg {
        @apply py-px115;
      }

      .carousel-testimonials-txt-wrap {
        @screen md {
          @apply mt-px30;
        }
        @screen lg {
          @apply col-start-6;
        }
      }
      .carousel-testimonials-img-wrap {
        @screen md {
          @apply col-start-1;
        }

        @screen lg {
          @include bleed-l(lg);
        }

        @screen lg2 {
          @include bleed-l(lg2);
        }

        @screen xl {
          @include bleed-l(xl);
        }

        // Max breakpoint for bleed is 1920px.
        @media only screen and (min-width: 1920px) {
          margin-left: calc((#{rem-calc(1920px)} - theme('container.screens.xl') + (theme('container.padding.xl') * 2)) / -2 );
        }

        .swiper-container {
          @screen md {
            @apply -ml-px50;
          }

          @screen lg {
            @apply ml-0;
          }
        }
      }
    }
  }
}

@import "./testimonials/boxed";
