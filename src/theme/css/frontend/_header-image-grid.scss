.header-image-grid {
  @apply pt-px88 pb-px120;
  @apply bg-white text-teal-dark text-center;

  @screen md {
    @apply pt-px100;
  }

  @screen lg {
    @apply py-px120;
  }

  @screen lg2 {
    @apply py-px140;
  }

  &__container {
    @apply container mx-auto;
    @apply tw-grid;
  }

  &__heading {
    @apply text-center col-span-full;
    @apply font-semibold text-px32 leading-px42;

    @screen md {
      @apply col-span-6 col-start-2;
    }

    @screen lg {
      @apply text-px40 leading-px50 tracking-em_001 col-start-2 col-span-10;

      & + .header-image-grid__grid {
        @apply mt-px80;
      }
    }

    @screen lg2 {
      @apply col-start-3 col-span-8;

      & + .header-image-grid__grid {
        @apply mt-px100;
      }
    }

    @screen xl {
      @apply text-px46 leading-px56;
    }
  }

  &__description {
    @apply text-px20 leading-px26 mt-px14 col-span-full;

    @screen md {
      @apply mt-px8 text-px18 leading-px24 col-span-6 col-start-2 mb-px80 tracking-px05;

      & + .header-image-grid__grid {
        @apply mt-0;
      }
    }

    @screen lg {
      @apply col-start-2 col-span-10 mt-px14 mb-px60 text-px22 leading-px32;

      & + .header-image-grid__grid {
        @apply mt-0;
      }
    }

    @screen lg2 {
      @apply text-px24 leading-px34 col-start-3 col-span-8 mb-px90;
    }

    @screen xl {
      @apply text-px26 leading-px36;
    }
  }

  &__grid {
    @apply flex flex-wrap justify-center mt-px30 col-span-full;

    @screen md {
      @apply mt-px50 col-span-6 col-start-2;
    }

    @screen lg {
      @apply mt-px40 mx-px45 col-start-1 col-span-full;
    }

    @screen lg2 {
      @apply col-start-2 col-span-10 mt-0;
    }

    @screen xl {
      @apply col-start-3 col-span-8 mx-0;
    }
  }

  &__item {
    @apply relative aspect-ratio-1-1;
    @apply mx-px6;
    width: calc((100% - 13px) / 2);

    @screen mobile {
      // First item in each row
      &:nth-child(odd) {
        @apply ml-0;
      }

      // Last item in each row
      &:nth-child(even) {
        @apply mr-0;
      }

      // 2nd row onwards
      &:nth-child(n + 3) {
        @apply mt-px12;
      }

      // last child in the row.
      &:last-child:nth-child(n + 3) {
        @apply mx-auto;
      }
    }

    @screen md-minmax {
      @apply mx-px14;
      width: calc((100% - (28px * 2) - 1px) / 3);

      // 2nd row onwards
      &:nth-child(n + 4) {
        @apply mt-px28;
      }

      // First item in each row
      &:nth-child(3n + 1) {
        @apply ml-0;
      }

      // Last item in each row
      &:nth-child(3n) {
        @apply mr-0;
      }

      // First item in last row with items < 4
      &:nth-child(3n + 1):not(:nth-last-child(n + 3)) {
        @apply ml-auto;
      }

      // Last child in last row with items < 4
      &:last-child:not(:nth-child(3n)) {
        @apply mr-auto;
      }

      // Only child in last row
      &:last-child:nth-child(3n + 1) {
        @apply mx-auto;
      }
    }

    @screen lg {
      @apply mx-px14;
      width: calc((100% - (28px * 3) - 1px) / 4);

      // 2nd row onwards
      &:nth-child(n + 5) {
        @apply mt-px40;
      }

      // First item in each row
      &:nth-child(4n + 1) {
        @apply ml-0;
      }

      // Last item in each row
      &:nth-child(4n) {
        @apply mr-0;
      }

      // First item in last row with items < 4
      &:nth-child(4n + 1):not(:nth-last-child(n + 4)) {
        @apply ml-auto;
      }

      // Last child in last row with items < 4
      &:last-child:not(:nth-child(4n)) {
        @apply mr-auto;
      }

      // Only child in last row
      &:last-child:nth-child(4n + 1) {
        @apply mx-auto;
      }
    }
  }

  &__image {
    @apply absolute flex items-center justify-center top-0 left-0 w-full h-full;

    img {
      @apply block max-w-full max-h-full object-contain;
    }
  }
}

.header-container--text + #site-content {
  .header-image-grid__grid {
    @apply col-span-full mx-0;
  }

  img.header-image-grid__image {
    @apply py-px28;

    @screen md {
      @apply px-px5;
    }

    @screen lg2 {
      @apply py-px40 px-px20;
    }

    @screen xl {
      @apply py-px34 px-px17;
    }
  }
}
